{"version":3,"sources":["./src/app/shop/shop.module.ts","./src/app/shop/shop-routing.module.ts","./src/app/shop/product-details/product-details.component.ts","./src/app/shop/product-details/product-details.component.html","./src/app/shared/models/pagination.ts","./src/app/shared/models/shopParams.ts","./src/app/shop/shop.component.ts","./src/app/shop/shop.component.html","./src/app/shop/shop.service.ts","./src/app/shop/product-item/product-item.component.ts","./src/app/shop/product-item/product-item.component.html"],"names":[],"mappings":"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","file":"shop-shop-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShopComponent } from './shop.component';\nimport { ProductItemComponent } from './product-item/product-item.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\nimport { ShopRoutingModule } from './shop-routing.module';\n\n\n\n@NgModule({\n  declarations: [ShopComponent, ProductItemComponent, ProductDetailsComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ShopRoutingModule\n  ]\n})\nexport class ShopModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ShopComponent } from './shop.component';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\n\nconst routes: Routes = [\n  {path: '', component: ShopComponent},\n  {path: ':id', component: ProductDetailsComponent, data: {breadcrumb: {alias: \"productDetails\"}}},\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class ShopRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { IProduct } from 'src/app/shared/models/product';\nimport { BreadcrumbService } from 'xng-breadcrumb';\nimport { ShopService } from '../shop.service';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.scss']\n})\nexport class ProductDetailsComponent implements OnInit {\n  product!: IProduct;\n  quantity = 1;\n\n  constructor(\n    private shopService: ShopService,\n    private activatedRoute: ActivatedRoute,\n    private bcService: BreadcrumbService,\n    private basketService: BasketService) {\n      this.bcService.set('@productDetails', '');\n    }\n\n  ngOnInit(): void {\n    this.loadProduct();\n  }\n\n  addItemToBasket() {\n    this.basketService.addItemToBasket(this.product, this.quantity);\n  }\n\n  incrementQuantity() {\n    this.quantity++;\n  }\n\n  decrementQuantity() {\n    if (this.quantity > 1) {\n      this.quantity--;\n    }\n  }\n\n  loadProduct() {\n    let str: string;\n    let final: string;\n\n    this.shopService.getProduct(Number(this.activatedRoute.snapshot.paramMap.get('id')))\n      .subscribe(product => {\n        // const arr = str.split('\\n');\n\n        // arr.forEach(item => {\n        //   const div = document.createElement('div');\n        //   div.innerText = item;\n        //   document.body.appendChild(div);\n        // });\n      str = \"<p>\" + product.shortDescription;\n      final = str.replace(/(?:\\n\\n|\\n)/g, \"</p><p>\");\n      this.product = product;\n      this.product.shortDescription = final;\n      this.bcService.set(\"@productDetails\", product.name);\n      }, error => {\n        console.log(error);\n      });\n  }\n}\n","<section class=\"wrapper\" *ngIf=\"product\">\n    <section class=\"image-container\">\n        <img src={{product.pictureUrl}} alt=\"\">\n    </section>\n    <section class=\"product-main-info\">\n        <h2>{{product.name}}</h2>\n\n        <p>{{product.price | currency}}</p>\n\n        <div class=\"qty\">\n            <i (click)=\"decrementQuantity()\" class=\"fa fa-minus-circle\"></i>\n            <span>{{quantity}}</span>\n            <i (click)=\"incrementQuantity()\" class=\"fa fa-plus-circle\"></i>\n            <button (click)=\"addItemToBasket()\" class=\"btn btn-outline-secondary\">\n                Add to Cart\n            </button>\n        </div>\n\n        <div [innerHTML]=\"product.shortDescription\" class=\"p-text\"></div>\n    </section>\n</section>\n\n\n","// import { IProduct } from './product';\r\n\r\nexport interface IPagination {\r\n    pageIndex: number;\r\n    pageSize: number;\r\n    count: number;\r\n    data: IProduct[];\r\n}\r\n\r\nexport interface IProduct {\r\n    id: number;\r\n    name: string;\r\n    shortDescription: string;\r\n    grossWeight: number;\r\n    price: number;\r\n    pictureUrl: string;\r\n    options: Option[];\r\n    optionValues: OptionValue[];\r\n  }\r\n\r\ninterface OptionValue {\r\n    optionId: number;\r\n    valueName: string;\r\n}\r\n\r\ninterface Option {\r\n    id: number;\r\n    name: string;\r\n    optionValueNames: string[];\r\n}\r\n\r\n// added in #284, 3:00\r\nexport class Pagination implements IPagination {\r\n    pageIndex!: number;\r\n    pageSize!: number;\r\n    count!: number;\r\n    data: IProduct[] = [];\r\n}","export class ShopParams {\r\n    categoryIdSelected = 0;\r\n    sort = 'name';\r\n    pageNumber = 1;\r\n    pageSize = 3;\r\n    search!: string;\r\n}","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ICategory } from '../shared/models/category';\nimport { IPagination, IProduct } from '../shared/models/pagination';\nimport { ShopParams } from '../shared/models/shopParams';\nimport { ShopService } from './shop.service';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.scss']\n})\nexport class ShopComponent implements OnInit, AfterViewInit {\n  @ViewChild('search', {static: false}) searchTerm!: ElementRef;\n  products: IProduct[] = [];\n  categories!: ICategory[];\n\n  shopParams!: ShopParams;\n  totalCount!: number;\n  sortOptions = [\n    {name: 'Alphabetical', value: 'name'},\n    {name: 'Price: Low to High', value: 'priceAsc'},\n    {name: 'Price: High to Low', value: 'priceDesc'}\n  ];\n\n  constructor(private shopService: ShopService) {\n    this.shopParams = this.shopService.getShopParams();\n  }\n\n  ngOnInit(): void {\n    this.getProducts(true);\n    this.getCategories();\n  }\n\n  ngAfterViewInit(): void {\n    if (this.shopParams.search !== undefined) {\n      this.searchTerm.nativeElement.value = this.shopParams.search;\n    }\n}\n\n  getProducts(useCache = false): void {\n    this.shopService.getProducts(useCache)\n      .subscribe((response: IPagination | null) => {\n        if (response) {\n          this.products = response.data;\n          this.totalCount = response.count;\n        }\n        else{ }\n      }, error => {\n        console.log(error);\n      });\n  }\n\n  getCategories(): void {\n    this.shopService.getCategories()\n      .subscribe(response => {\n        this.categories = [{id: 0, name: 'All'}, ...response];\n      }, error => {\n        console.log(error);\n      });\n  }\n\n  // NOT IMPLEMENTED YET\n  // onCategorySelected() {\n  //   this.shopParams.categoryIdSelected = categoryId;\n  //   this.shopParams.pageNumber = 1;\n  //   this.getCategoryProduct();\n  // }\n\n  onSortSelected(event: Event): void {\n    const params = this.shopService.getShopParams();\n    let element = event.target as HTMLSelectElement;\n    params.sort = element.value;;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n    // let element = event.target as HTMLSelectElement;\n    // this.shopParams.sort = element.value;\n    // this.getProducts();\n  }\n\n  onPageChanged(event: any): void {\n    const params = this.shopService.getShopParams();\n    if (params.pageNumber !== event) {\n      params.pageNumber = event;\n      this.shopService.setShopParams(params);\n      this.getProducts(true);\n    }\n  }\n\n  onSearch(): void {\n    const params = this.shopService.getShopParams();\n    if (this.searchTerm) {\n      params.search = this.searchTerm.nativeElement.value;\n    }\n\n    params.pageNumber = 1;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onReset(): void {\n    if (this.searchTerm) {\n      this.searchTerm.nativeElement.value = '';\n    }\n\n    this.shopParams = new ShopParams();\n    this.shopService.setShopParams(this.shopParams);\n    this.getProducts();\n  }\n}\n","<section class=\"main-products-container\">\n    <section class=\"product-categories\">\n        <ng-container *ngIf=\"categories\">\n            <h5 class=\"title\">Sort</h5>\n\n            <select (change)=\"onSortSelected($event)\">\n                <option *ngFor=\"let sort of sortOptions\"\n                        [selected]=\"shopParams.sort === sort.value\"\n                        [value]=\"sort.value\">\n                    {{sort.name}}\n                </option>\n            </select>\n\n            <section class=\"categories\">\n                <h5 class=\"title\">Categories</h5>\n                <ul>\n                    <li *ngFor=\"let category of categories\"\n                        [class.active]=\"category.id ===this.shopParams.categoryIdSelected\"\n                        [value]=\"category.id\">\n                        {{category.name}}\n                    </li>\n                </ul>\n            </section>\n        </ng-container>\n    </section>\n\n    <section class=\"product-list\">\n        <section class=\"products-head\">\n            <ng-container [hidden]]=\"!categories\">\n                <app-paging-header class=\"count\"\n                                   [totalCount]=\"totalCount\"\n                                   [pageSize]=\"this.shopParams.pageSize\"\n                                   [pageNumber]=\"this.shopParams.pageNumber\">\n                </app-paging-header>\n\n                <section class=\"search-field\">\n                    <input (keyup.enter)=\"onSearch()\"\n                           type=\"search\"\n                           #search\n                           #default>\n                    <button class=\"search-btn\"\n                            type=\"submit\"\n                            (click)=\"onSearch()\">\n                        <i class=\"fa fa-search\"></i>\n                    </button>\n                    <button class=\"reset-btn\"\n                            (click)=\"onReset()\">\n                        <i class=\"fa fa-times\"></i>\n                    </button>\n                </section>\n            </ng-container>\n        </section>\n\n        <section class=\"products-wrapper\">\n            <div class=\"product-card\"\n                 *ngFor=\"let item of products\">\n                <app-product-item [product]=\"item\"\n                                  class=\"container\">\n                </app-product-item>\n            </div>\n        </section>\n        <app-pager class=\"pagination\"\n                   [pageSize]=\"shopParams.pageSize\"\n                   [totalCount]=\"totalCount\"\n                   [pageNumber]=\"shopParams.pageNumber\"\n                   (pageChanged)=\"onPageChanged($event)\">\n        </app-pager>\n    </section>\n</section>","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { IPagination, Pagination } from '../shared/models/pagination';\nimport { ICategory } from '../shared/models/category';\nimport { map } from 'rxjs/operators';\nimport { ShopParams } from '../shared/models/shopParams';\nimport { IProduct } from '../shared/models/product';\nimport { of } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShopService {\n  baseUrl = environment.apiUrl;\n  products: IProduct[] = [];\n\n  // added #284 4:00\n  pagination = new Pagination();\n  shopParams = new ShopParams();\n\n  constructor(private http: HttpClient) { }\n\n  getProducts(useCache: boolean) {\n    if (useCache === false) {\n      this.products = [];\n    }\n\n    if (this.products.length > 0 && useCache === true) {\n      const pagesReceived = Math.ceil(this.products.length / this.shopParams.pageSize);\n\n      if (this.shopParams.pageNumber <= pagesReceived) {\n        this.pagination.data =\n          this.products.slice((this.shopParams.pageNumber - 1) * this.shopParams.pageSize,\n            this.shopParams.pageNumber * this.shopParams.pageSize);\n\n        return of(this.pagination);\n      }\n    }\n\n    let params = new HttpParams();\n\n    // ***** NOT IMPLEMENTED YET ON the API and DB (many-to-many between Category and Product not set up) *****\n    // if (shopParams.categoryIdSelected !== 0) {\n    //   params = params.append('categoryId', shopParams.categoryIdSelected.toString());\n    // }\n    if (this.shopParams.search) {\n      params = params.append('search', this.shopParams.search);\n    }\n\n    params = params.append('sort', this.shopParams.sort);\n    params = params.append('pageIndex', this.shopParams.pageNumber.toString());\n    params = params.append('pageSize', this.shopParams.pageSize.toString());\n\n    return this.http.get<IPagination>\n      (this.baseUrl + 'products', {observe: 'response', params})\n      .pipe(\n        map(response => {\n          if (response.body !== null) {\n            this.products = [...this.products, ...response.body.data];\n            this.pagination = response.body;\n          }\n          return this.pagination;\n        })\n      );\n  }\n\n  getShopParams() {\n    return this.shopParams;\n  }\n\n  setShopParams(params: ShopParams) {\n    this.shopParams = params;\n  }\n\n  getProduct(id: number) {\n    const product = this.products.find(p => p.id === id);\n\n    if (product) {\n      return of(product);\n    }\n    return this.http.get<IProduct>(this.baseUrl + 'products/' + id);\n  }\n\n  getCategories() {\n    return this.http.get<ICategory[]>(this.baseUrl + 'categories/maincategories');\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { IProduct } from 'src/app/shared/models/product';\n\n@Component({\n  selector: 'app-product-item',\n  templateUrl: './product-item.component.html',\n  styleUrls: ['./product-item.component.scss']\n})\nexport class ProductItemComponent implements OnInit {\n  @Input() product!: IProduct;\n  \n  constructor(private basketService: BasketService) { }\n\n  ngOnInit(): void {\n  }\n\n  addItemToBasket() {\n    this.basketService.addItemToBasket(this.product);\n  }\n}\n","<!-- <div class=\"product-card\"> -->\n<div class=\"up\">\n    <div class=\"image-container\"\n         style=\"background-image: url({{product.pictureUrl}});\">\n        <div class=\"image-overlay\">\n            <i class=\"fa fa-search\"></i>\n        </div>\n        <a routerLink=\"/shop/{{product.id}}\"></a>\n    </div>\n    <a routerLink=\"/shop/{{product.id}}\">\n        <h5>{{product.name}}</h5>\n    </a>\n    <h6>{{product.price}} лв</h6>\n</div>\n\n<div class=\"down\">\n    <section class=\"buttons\">\n        <button (click)=\"addItemToBasket()\"\n                class=\"btn button-primary\">Buy</button>\n        <button routerLink=\"/shop/{{product.id}}\"\n                class=\"btn button-primary\">View</button>\n    </section>\n</div>\n<!-- </div> -->"],"sourceRoot":"webpack:///"}